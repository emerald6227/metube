(()=>{"use strict";var e={913:(e,t,n)=>{n.d(t,{Qo:()=>o,ej:()=>r});var o=function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="".concat(e,"=").concat(t,"; expires=").concat(o.toGMTString());document.cookie=r},r=function(e){document.cookie.split(";");var t=document.cookie.match("(^|;) ?".concat(e,"=([^;]*)(;|$)"));return t?t[2]:null}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var u=t[o]={exports:{}};return e[o](u,u.exports,n),u.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(913);function t(e,t,n,o,r,u,a){try{var i=e[u](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(o,r)}var o=document.querySelector("video"),r=document.getElementById("play"),u=r.querySelector("i"),a=document.getElementById("mute"),i=a.querySelector("i"),c=document.getElementById("volume"),d=document.getElementById("currentTime"),l=document.getElementById("totalTime"),s=document.getElementById("timeline"),m=document.getElementById("fullScreen"),v=m.querySelector("i"),f=document.getElementById("videoContainer"),p=document.getElementById("videoControls"),y=null,E=document.querySelector(".video__add-comment--form"),L="";E&&(L=E.querySelector("input"));var T=!1,g=null,h=null,w=1;o.volume=w,window.onkeydown=function(e){var t=e.code;T||("KeyF"===t?q():"Space"===t&&(e.preventDefault(),I()))};var x=function(e){return new Date(1e3*e).toISOString().substr(11,8)},I=function(e){o.paused?o.play():o.pause(),u.classList=o.paused?"fas fa-play":"fas fa-pause"},S=function(){y&&clearTimeout(y),y=setTimeout((function(){(0,e.Qo)("currentVolume",c.value,365e3)}),200)},k=function(){l.innerText=x(Math.floor(o.duration)),s.max=Math.floor(o.duration)};if("00:00:00"===l.innerText){var B=setInterval(k,1e3);setTimeout((function(){"00:00:00"!==l.innerText&&clearInterval(B)}),3e3)}var q=function(e){var t=document.fullscreenElement;t?document.exitFullscreen():f.requestFullscreen(),v.classList=t?"fas fa-expand":"fas fa-compress"},b=function(){return p.classList.remove("showing")},M=function(){var n,r=(n=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.ej)("currentVolume");case 2:(n=t.sent)&&(c.value=n,o.volume=n,"0"===n&&(o.muted=!0,i.classList="fas fa-volume-mute")),I();case 5:case"end":return t.stop()}}),t)})),function(){var e=this,o=arguments;return new Promise((function(r,u){var a=n.apply(e,o);function i(e){t(a,r,u,i,c,"next",e)}function c(e){t(a,r,u,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();window.addEventListener("load",M),r.addEventListener("click",I),a.addEventListener("click",(function(e){o.muted?o.muted=!1:o.muted=!0,i.classList=o.muted?"fas fa-volume-mute":"fas fa-volume-up",c.value=o.muted?0:w,S()})),c.addEventListener("input",(function(e){var t=e.target.value;o.muted&&(o.muted=!1),0==t&&(o.muted=!0),i.classList=o.muted?"fas fa-volume-mute":"fas fa-volume-up",w=t,o.volume=t,S()})),s.addEventListener("input",(function(e){var t=e.target.value;o.currentTime=t})),m.addEventListener("click",q),o.addEventListener("loadedmetadata",k),o.addEventListener("timeupdate",(function(){d.innerText=x(Math.floor(o.currentTime)),s.value=Math.floor(o.currentTime)})),o.addEventListener("click",I),o.addEventListener("mousemove",(function(){g&&(clearTimeout(g),g=null),h&&(clearTimeout(h),h=null),p.classList.add("showing"),h=setTimeout(b,3e3)})),o.addEventListener("mouseleave",(function(){g=setTimeout(b,3e3)})),o.addEventListener("ended",(function(){var e=f.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),p.addEventListener("mouseover",(function(){g&&(clearTimeout(g),g=null),h&&(clearTimeout(h),h=null),p.classList.add("showing")})),p.addEventListener("mouseleave",(function(){g=setTimeout(b,3e3)})),L&&(L.addEventListener("focus",(function(){T=!0})),L.addEventListener("blur",(function(){T=!1})))})()})();