(()=>{"use strict";var e={913:(e,t,n)=>{n.d(t,{Qo:()=>r,ej:()=>o});var r=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="".concat(e,"=").concat(t,"; expires=").concat(r.toGMTString());document.cookie=o},o=function(e){document.cookie.split(";");var t=document.cookie.match("(^|;) ?".concat(e,"=([^;]*)(;|$)"));return t?t[2]:null}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,n),u.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(913);function t(e,t,n,r,o,u,a){try{var i=e[u](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}var r=document.querySelector("video"),o=document.getElementById("play"),u=o.querySelector("i"),a=document.getElementById("mute"),i=a.querySelector("i"),c=document.getElementById("volume"),d=document.getElementById("currentTime"),l=document.getElementById("totalTime"),s=document.getElementById("timeline"),m=document.getElementById("fullScreen"),v=m.querySelector("i"),f=document.getElementById("videoContainer"),p=document.getElementById("videoControls"),y=document.querySelector(".video__add-comment--form"),E="";y&&(E=y.querySelector("input"));var L=!1,T=null,g=null,h=1;r.volume=h,window.onkeydown=function(e){var t=e.code;L||("KeyF"===t?k():"Space"===t&&(e.preventDefault(),w()))};var x=function(e){return new Date(1e3*e).toISOString().substr(11,8)},w=function(e){r.paused?r.play():r.pause(),u.classList=r.paused?"fas fa-play":"fas fa-pause"},I=function(){l.innerText=x(Math.floor(r.duration)),s.max=Math.floor(r.duration)};if("00:00:00"===l.innerText){var S=setInterval(I,1e3);setTimeout((function(){"00:00:00"!==l.innerText&&clearInterval(S)}),3e3)}var k=function(e){var t=document.fullscreenElement;t?document.exitFullscreen():f.requestFullscreen(),v.classList=t?"fas fa-expand":"fas fa-compress"},B=function(){return p.classList.remove("showing")};(function(){var n,o=(n=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.ej)("currentVolume");case 2:(n=t.sent)&&(c.value=n,r.volume=n,"0"===n&&(r.muted=!0,i.classList="fas fa-volume-mute")),w();case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(o,u){var a=n.apply(e,r);function i(e){t(a,o,u,i,c,"next",e)}function c(e){t(a,o,u,i,c,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}})()(),o.addEventListener("click",w),a.addEventListener("click",(function(t){r.muted?r.muted=!1:r.muted=!0,i.classList=r.muted?"fas fa-volume-mute":"fas fa-volume-up",c.value=r.muted?0:h,(0,e.Qo)("currentVolume",c.value,365e3)})),c.addEventListener("input",(function(t){var n=t.target.value;r.muted&&(r.muted=!1),0==n&&(r.muted=!0),i.classList=r.muted?"fas fa-volume-mute":"fas fa-volume-up",h=n,r.volume=n,(0,e.Qo)("currentVolume",c.value,365e3)})),s.addEventListener("input",(function(e){var t=e.target.value;r.currentTime=t})),m.addEventListener("click",k),r.addEventListener("loadedmetadata",I),r.addEventListener("timeupdate",(function(){d.innerText=x(Math.floor(r.currentTime)),s.value=Math.floor(r.currentTime)})),r.addEventListener("click",w),r.addEventListener("mousemove",(function(){T&&(clearTimeout(T),T=null),g&&(clearTimeout(g),g=null),p.classList.add("showing"),g=setTimeout(B,3e3)})),r.addEventListener("mouseleave",(function(){T=setTimeout(B,3e3)})),r.addEventListener("ended",(function(){var e=f.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),p.addEventListener("mouseover",(function(){T&&(clearTimeout(T),T=null),g&&(clearTimeout(g),g=null),p.classList.add("showing")})),p.addEventListener("mouseleave",(function(){T=setTimeout(B,3e3)})),E&&(E.addEventListener("focus",(function(){L=!0})),E.addEventListener("blur",(function(){L=!1})))})()})();